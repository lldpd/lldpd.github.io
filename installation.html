<!doctype html>
<html class="no-js" lang="en">
<head>
  <meta charset="utf-8">
    <title>lldpd Â» implementation of IEEE 802.1AB | Installation</title>
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <link rel="canonical" href="https://lldpd.github.io/installation.html">
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Inconsolata|Libre+Baskerville:400,400italic,700" type="text/css">
  <link rel="stylesheet" href="/media/css/lldpd.cea6ce9e.css" type="text/css">
  <script src="/media/js/mp.e3771c26.js"></script>
</head>
<body>

  <a class="badge github-forkme" href="https://github.com/lldpd/lldpd">
  <img src="https://camo.githubusercontent.com/e7bbb0521b397edbd5fe43e7f760759336b5e05f/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f677265656e5f3030373230302e706e67"
       data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_green_007200.png"
       alt="GitHub badge" title="Fork me on GitHub">
</a>
<a class="badge latest-version" href="https://media.luffy.cx/files/lldpd/lldpd-1.0.18.tar.gz">
  <div title="Download latest version of lldpd">1.0.18</div>
</a>

  <nav>

  <p class="tagline">
    <em>lldpd</em> is a 802.1AB implementation (LLDP) to
    help you locate neighbors of all your equipments.
  </p>

  <ul>
    <li><a href="/">Overview</a></li>
    <li><a href="/features.html">Features</a></li>
    <li><a href="/installation.html">Installation</a></li>
    <li><a href="/usage.html">Usage</a></li>
    <li><a href="/security.html">Security</a></li>
  </ul>
</nav>

  <article>
    <div role="main">
            <header>
        <h1>Installation</h1>
      </header>
      
      <p><code>lldpd</code> supports several <span class="caps">OS</span>. You can install it from packages or from
sources. Once installed, you may want to look
<a href="/usage.html">how to use and configure it</a>.</p>
<div class="toc">
<ul>
<li><a href="#gnulinux"><span class="caps">GNU</span>/Linux</a><ul>
<li><a href="#debian-and-ubuntu">Debian and&nbsp;Ubuntu</a></li>
<li><a href="#gentoo">Gentoo</a></li>
<li><a href="#fedora-rhel-centos">Fedora, <span class="caps">RHEL</span>,&nbsp;CentOS</a></li>
<li><a href="#suse"><span class="caps">SUSE</span></a></li>
<li><a href="#docker">Docker</a></li>
</ul>
</li>
<li><a href="#bsd"><span class="caps">BSD</span></a></li>
<li><a href="#macos">macOS</a></li>
<li><a href="#install-from-source">Install from&nbsp;source</a></li>
</ul>
</div>
<h1 id="gnulinux"><span class="caps">GNU</span>/Linux</h1>
<h2 id="debian-and-ubuntu">Debian and&nbsp;Ubuntu</h2>
<p><code>lldpd</code> is already available in Debian and Ubuntu. You can install it&nbsp;with:</p>
<div class="codehilite"><pre><span></span><span class="gp">$ </span>sudo apt-get install lldpd
<span class="go">Reading package lists... Done</span>
<span class="go">Building dependency tree       </span>
<span class="go">Reading state information... Done</span>
<span class="go">The following extra packages will be installed:</span>
<span class="go">[...]</span>
</pre></div>


<p>It will be installed and configured to start at boot. You can change
the options of <code>lldpd</code> in <code>/etc/default/lldpd</code>.</p>
<p>If the package is not recent enough, you can use the
<a href="https://backports.debian.org" title="Debian Backports">Debian backports</a> on Debian. Follow the instructions available on
the&nbsp;website.</p>
<p>If it is still not recent enough, you can grab the appropriate Debian
package from <a href="http://software.opensuse.org/download.html?project=home:vbernat&amp;package=lldpd" title="lldpd on OSC">openSUSE Build Service</a>. Follow the instructions
available on the&nbsp;website.</p>
<p>The last option is to to <a href="#install-from-source">build <em>lldpd</em> from source</a>. You can still
install and uninstall the package to get <code>_lldpd</code> user and group, as
well as a working init&nbsp;script.</p>
<h2 id="gentoo">Gentoo</h2>
<p><code>lldpd</code> is available in portage. Just issue the command <code>emerge lldpd</code>
to install it. You can also <a href="#install-from-source">build <em>lldpd</em> from source</a>.</p>
<h2 id="fedora-rhel-centos">Fedora, <span class="caps">RHEL</span>,&nbsp;CentOS</h2>
<p><code>lldpd</code> is available in the main Fedora and <span class="caps">RHEL</span> 8 repositories.
Just issue the command <code>dnf install lldpd</code> to install&nbsp;it.</p>
<p>For older distro versions, like <span class="caps">RHEL</span> 7, it is available from the
<a href="https://fedoraproject.org/wiki/EPEL"><span class="caps">EPEL</span></a> repository. In this case,
you need to install the <code>epel-release</code> package before issuing the
<code>yum install lldpd</code> command.</p>
<p>Once the <code>lldpd</code> package is installed, you can change its options via
the <code>/etc/sysconfig/lldpd</code> file.</p>
<p>Alternatively, you can install the packages
from <a href="http://software.opensuse.org/download.html?project=home:vbernat&amp;package=lldpd" title="lldpd on OSC">openSUSE Build Service</a>. Follow the instructions available on
the&nbsp;website.</p>
<p>It is also possible to <a href="#install-from-source">build <em>lldpd</em> from source</a>.</p>
<h2 id="suse"><span class="caps">SUSE</span></h2>
<p>On <span class="caps">SLES</span> 12, openSUSE Leap 42.3 or openSUSE Tumbleweed, <code>lldpd</code> is
available directly with the following&nbsp;command:</p>
<div class="codehilite"><pre><span></span><span class="gp">$ </span>sudo zypper install lldpd
<span class="go">The following 11 NEW packages are going to be installed:</span>
<span class="go">  libbsd0 libdb-4_8 libevent-2_0-5 libgdbm4 liblldpctl4 libsensors4 libsnmp30 libwrap0 lldpd perl snmp-mibs</span>

<span class="go">11 new packages to install.</span>
<span class="go">Overall download size: 8.7 MiB. Already cached: 0 B. After the operation, additional 47.8 MiB will be used.</span>
<span class="go">Continue? [y/n/...? shows all options] (y): y</span>
<span class="go">[...]</span>
<span class="gp gp-VirtualEnv">(11/11)</span> <span class="go">Installing: lldpd-0.9.9-2.1.x86_64 ...............[done]</span>
</pre></div>


<p>It is also possible to <a href="#install-from-source">build <em>lldpd</em> from source</a>.</p>
<h2 id="docker">Docker</h2>
<p>You can use Docker to run <code>lldpd</code>:</p>
<div class="codehilite"><pre><span></span><span class="gp">$ </span>docker run --rm --net<span class="o">=</span>host --uts<span class="o">=</span>host <span class="se">\</span>
           -v /etc/os-release:/etc/os-release <span class="se">\</span>
           --cap-add<span class="o">=</span>NET_RAW --cap-add<span class="o">=</span>NET_ADMIN <span class="se">\</span>
           --name lldpd <span class="se">\</span>
           ghcr.io/lldpd/lldpd:latest
</pre></div>


<p>In place of <code>latest</code> which provides you with the latest stable
version, you may use <code>1</code>, <code>1.0</code>, <code>1.0.18</code>
to match specific&nbsp;versions.</p>
<p>To execute <code>lldpcli</code>,&nbsp;use:</p>
<div class="codehilite"><pre><span></span><span class="gp">$ </span>docker <span class="nb">exec</span> lldpd lldpcli show neighbors
</pre></div>


<p>Or to get the&nbsp;command-line:</p>
<div class="codehilite"><pre><span></span><span class="gp">$ </span>docker <span class="nb">exec</span> -it lldpd lldpcli
</pre></div>


<h1 id="bsd"><span class="caps">BSD</span></h1>
<p><code>lldpd</code> is currently available in the ports tree of most BSDs<sup id="fnref:ports"><a class="footnote-ref" href="#fn:ports" rel="footnote">1</a></sup>.
Follow the instructions on how to install lldpd from ports by following
the documentation specific to the respective ports&nbsp;tree.</p>
<p>Some BSDs provide up-to-date binary packages using their respective
package management&nbsp;tools.</p>
<p>Though if you want to <a href="#install-from-source">build <em>lldpd</em> from source</a>. You can add
<code>_lldpd</code> user with <code>vipw</code> and add <code>_lldpd</code> group by adding it manually
in <code>/etc/group</code>. The user must not be able to login, have its home as
<code>/var/empty</code> and a disabled shell (like <code>/bin/false</code>).</p>
<p>You may want to configure <code>lldpd</code> with
<code>--with-privsep-chroot=/var/empty</code> to avoid to create
<code>/var/run/lldpd</code>.</p>
<p>If <code>lldpcli</code> is not able to provide completion, you can use the <code>help</code>
command instead or install the <span class="caps">GNU</span> Readline library on your&nbsp;system.</p>
<h1 id="macos">macOS</h1>
<p>The easiest way is to use the
<a href="https://media.luffy.cx/files/lldpd/lldpd-1.0.18.pkg" title="lldpd 1.0.18 version for OSX">installer package for macOS</a>. You need at least macOS&nbsp;10.6.</p>
<p>Alternatively, you can use <a href="http://brew.sh/" title="Homebrew: the missing package manager for macOS">Homebrew</a>. Check the website if you
don&#8217;t have it, it is easy to install. Once installed, type in a&nbsp;terminal:</p>
<div class="codehilite"><pre><span></span><span class="gp">$ </span>brew install https://raw.github.com/lldpd/lldpd/master/osx/lldpd.rb
<span class="gp">#</span><span class="c1">####################################################################### 100.0%</span>
<span class="go">==&gt; Downloading https://media.luffy.cx/files/lldpd/lldpd-1.0.18.tar.gz</span>
<span class="go">==&gt; ./configure --prefix=/usr/local/Cellar/lldpd/1.0.18 --with-xml --with-readline</span>
<span class="go">[...]</span>
</pre></div>


<p>Pay attention at the instructions at the end of the build: they
explain how to create <code>_lldpd</code> user and group and how to run <code>lldpd</code>
when the system&nbsp;starts.</p>
<p>At least, you can <a href="#install-from-source">build <em>lldpd</em> from source</a>.</p>
<h1 id="install-from-source">Install from&nbsp;source</h1>
<p>This is the last resort method. Other methods are usually simpler. You need a
working build&nbsp;environment.</p>
<p>First, download the tarball&nbsp;archive:</p>
<div class="codehilite"><pre><span></span><span class="gp">$ </span>curl -sO https://media.luffy.cx/files/lldpd/lldpd-1.0.18.tar.gz
<span class="gp">$ </span>curl -sO https://media.luffy.cx/files/lldpd/lldpd-1.0.18.tar.gz.gpg
<span class="gp">$ </span>curl -s  https://media.luffy.cx/files/gpg.txt <span class="p">|</span> gpg --import
<span class="go">gpg: key 95A42FE8353525F9: &quot;Vincent Bernat &lt;bernat@luffy.cx&gt;&quot; not changed</span>
<span class="go">gpg: Total number processed: 1</span>
<span class="go">gpg:              unchanged: 1</span>
<span class="gp">$ </span>gpg --verify lldpd-1.0.18.tar.gz.gpg lldpd-1.0.18.tar.gz
<span class="go">gpg: Signature made Fri Nov 11 14:31:37 2022 CET</span>
<span class="go">gpg:                using RSA key AEF2348766F371C689A7360095A42FE8353525F9</span>
<span class="go">gpg: Good signature from &quot;Vincent Bernat &lt;bernat@luffy.cx&gt;&quot; [ultimate]</span>
</pre></div>


<p>Then, extract and&nbsp;build:</p>
<div class="codehilite"><pre><span></span><span class="gp">$ </span>tar zxvf lldpd-1.0.18.tar.gz
<span class="gp">$ </span><span class="nb">cd</span> lldpd-1.0.18
<span class="gp">$ </span>mkdir build
<span class="gp">$ </span><span class="nb">cd</span> build
<span class="gp">$ </span>../configure
<span class="go">checking for a BSD-compatible install... /usr/bin/install -c</span>
<span class="go">checking whether build environment is sane... yes</span>
<span class="go">checking for a thread-safe mkdir -p... /bin/mkdir -p</span>
<span class="go">checking for gawk... gawk</span>
<span class="go">[...]</span>
<span class="go">------------------ Summary ------------------</span>
<span class="go"> lldpd version </span>
<span class="go">  Prefix.........: /usr/local</span>
<span class="go">  C Compiler.....: gcc -g -O2 -fdiagnostics-show-option -std=gnu99 -pipe -Wall -W -Wextra -Wformat -Wformat-security -Wcast-align -Winline -fstack-protector -D_FORTIFY_SOURCE=2 -Wdeclaration-after-statement -Wno-unused-parameter -Wno-sign-compare </span>
<span class="go">  Linker.........: /usr/bin/ld -m elf_x86_64  -Wl,-z,relro -Wl,-z,now </span>
<span class="go">  Libevent.......: system</span>
<span class="go"> Optional features:</span>
<span class="go">  SNMP support...: no</span>
<span class="go">  CDP............: yes</span>
<span class="go">  FDP............: yes</span>
<span class="go">  EDP............: yes</span>
<span class="go">  SONMP..........: yes</span>
<span class="go">  LLDPMED........: yes</span>
<span class="go">  DOT1...........: yes</span>
<span class="go">  DOT3...........: yes</span>
<span class="go">  XML output.....: no</span>
<span class="go">---------------------------------------------</span>

<span class="go">Check the above options and compile with:</span>
<span class="go"> make</span>
</pre></div>


<p>If this steps fail, feel free to <a href="https://github.com/lldpd/lldpd/issues" title="GitHub bug tracker for lldpd">file a bug report</a>. The content
of <code>config.log</code> should be helpful. Otherwise, check if everything is
as you expect and&nbsp;continue.</p>
<div class="codehilite"><pre><span></span><span class="gp">$ </span>make
<span class="go">  CC     strlcpy.lo</span>
<span class="go">  CCLD   libcompat.la</span>
<span class="go">  CC     log.lo</span>
<span class="go">[...]</span>
<span class="go">make[1]: Leaving directory `/home/bernat/src/lldpd-1.0.18&#39;</span>
</pre></div>


<p>If this steps fail, feel free to <a href="https://github.com/lldpd/lldpd/issues" title="GitHub bug tracker for lldpd">file a bug report</a> too with the
output and some details on your platform. The <code>config.log</code> is also
useful in this&nbsp;case.</p>
<p>You can finish the installation with <code>make install</code>. Then, you still
have to complete the following steps by yourself. They are system&nbsp;specifics:</p>
<ul>
<li>Ensure the <code>liblldpctl</code> library is correctly registered with the
   system. The output of <code>make install</code> should give the appropriate
   steps. On Linux, this is <code>ldconfig</code>.</li>
<li>Create a <code>_lldpd</code> user and a <code>_lldpd</code> group. This is needed for
   privilege seperation (increased&nbsp;security).</li>
<li>Create the chroot (<code>/usr/local/var/run/lldpd</code> by default). It is just an
   empty&nbsp;directory.</li>
<li>Ensure that <code>lldpd</code> is started at&nbsp;boot.</li>
</ul>
<p><code>../configure</code> accepts several options. You can get them with
<code>../configure --help</code>. The most interesting ones are <code>--with-snmp</code> and
<code>--with-xml</code>.</p>
<div class="footnote">
<hr>
<ol>
<li id="fn:ports">
<p>It has been added to the ports tree of OpenBSD (net/lldpd),
      FreeBSD (net-mgmt/lldpd) and NetBSD&#8217;s pkgsrc (net/lldpd).
      DragonFly uses the FreeBSD port with an overlay named DeltaPorts.&#160;<a class="footnote-backref" href="#fnref:ports" rev="footnote" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
</ol>
</div>    </div>
  </article>

</body>
</html>